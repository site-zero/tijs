@use "@site0/tijs/sass/_all.scss" as *;

.ti-calendar {
  @include flex-align-v-nowrap;
  --main-pad: 6px;
  --head-bg: var(--ti-color-border-shallow);
  --head-color: var(--ti-color-primary);
  --head-fontsz: var(--ti-fontsz-s);
  --cell-bg: var(--ti-color-card);
  --cell-fontsz: var(--ti-fontsz-m);
  --cell-gap: 3px;
  --cell-today-bg: var(--ti-color-primary-r);
  --cell-today-color: var(--ti-color-primary);
  --cell-current-bg: var(--ti-color-secondary);
  --cell-current-color: var(--ti-color-secondary-r);
  --cell-radius: 0;
  //-----------------------------------------------------
  > header {
    @include flex-align-nowrap($jc: space-between);
    font-size: var(--head-fontsz);
    padding: var(--ti-gap-s) 0;
    user-select: none;
    > .switcher {
      @include flex-align-nowrap;
      gap: var(--ti-gap-t);
    }
    > a.today {
      display: block;
      padding: 0.1em 1em;
      transition: 0.3s;
      &:hover {
        border-radius: 0.3em;
        background-color: var(--ti-color-mask-weak);
      }
    }
  }
  //-----------------------------------------------------
  > main {
    flex: 1 1 auto;
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: auto repeat(4, 1fr);
    grid-auto-rows: 1fr;
    gap: var(--cell-gap);
    padding: var(--main-pad);
    background-color: var(--ti-color-border-shallow);
    font-size: var(--cell-fontsz);
    //---------------------------------------------------
    > section.cale-cell {
      position: relative;
      font-size: 0.8em;
      //-------------------------------------------------
      &.as-head {
        @include flex-center;
        background-color: var(--head-bg);
        color: var(--head-color);
      }
      //-------------------------------------------------
      &.as-date {
        > .cell-con {
          position: absolute;
          inset: 0;
          @include flex-center;
          background-color: var(--cell-bg);
          border-radius: var(--cell-radius);
          &:hover {
            cursor: pointer;
          }
        }
        //-----------------------------------------------
        &.is-out-of-month > .cell-con {
          opacity: 0.3;
        }
        //-----------------------------------------------
        &.is-today > .cell-con {
          background-color: var(--cell-today-bg);
          color: var(--cell-today-color);
        }
        //-----------------------------------------------
        &.is-current > .cell-con {
          background-color: var(--cell-current-bg);
          color: var(--cell-current-color);
        }
        //-----------------------------------------------
      }
      //-------------------------------------------------
    } // > section {
    //---------------------------------------------------
  } // > main {
  //-----------------------------------------------------
}
