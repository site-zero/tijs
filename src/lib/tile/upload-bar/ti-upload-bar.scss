@use '@site0/tijs/sass/_all.scss' as *;

.ti-upload-bar {
  position: relative;
  @include flex-align-nowrap($ai: stretch);
  width: 100%;
  background-color: var(--ti-color-box);
  //-----------------------------------------------
  > .bar-con {
    @include flex-align-nowrap($ai: stretch);
    flex: 1 1 auto;
    height: 3em;
    border: 1px solid var(--bar-c0);
    overflow: hidden;
    //-----------------------------------------------
    > .part-icon {
      @include flex-center;
      flex: 0 0 auto;
      font-size: 1.3em;
      background-color: var(--bar-bg);
      color: var(--bar-c0);
      width: 2em;
      position: relative;
      .prefix-cleaner {
        @include flex-center;
        position: absolute;
        inset: 0;
        background-color: var(--bar-action);
        color: var(--ti-bar-action-r);
        opacity: 1;
        transition: opacity 0.3s;
        cursor: pointer;
        > i {
          transition: transform 0.3s;
          opacity: 0;
        }
        &:hover {
          opacity: 1;
          > i {
            opacity: 1;
            transform: rotate(180deg) scale(1.3);
          }
        }
      }
    }
    //-----------------------------------------------
    > .part-text {
      @include flex-align-nowrap($ai: center);
      flex: 1 1 auto;
      > .as-snippet-text {
        width: 50px;
        flex: 1 1 auto;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        border-radius: 0;
      }
    }
    //-----------------------------------------------
    > .part-actions {
      background-color: var(--ti-color-border-shallow);
      font-size: var(--ti-fontsz-s);
      flex: 0 0 auto;
      .bar-item-info .item-icon {
        font-size: inherit;
      }
    }
    //-----------------------------------------------
    > .part-progress {
      position: absolute;
      inset: 0;
      padding: 0 3em;
      background-color: var(--ti-color-mask-thin);
    }
    //-----------------------------------------------
    @include aspect_pad('&.bar-pad', '> .part-text');
    @include aspect_fontsize('&.text-size');
    @include aspect_radius('&.bar-radius');
    //-----------------------------------------------
    &.text-align-center {
      > .part-text {
        text-align: center;
      }
    }
    //-----------------------------------------------
    &.text-align-right {
      > .part-text {
        text-align: right;
      }
    }
  } // > .bar-con {
  //-----------------------------------------------
  &.drag-enter {
    > .bar-con::after {
      pointer-events: none;
      content: '';
      display: block;
      position: absolute;
      inset: -10px;
      border-color: var(--ti-color-secondary);
      border-style: dashed;
      border-width: 3px;
    }
    // > .bar-con {
    //   border-color: var(--ti-color-secondary);
    // }
  }
  //-----------------------------------------------
}
